  - name: header
    type: header
    start: 0x0

  - name: boot
    type: bin
    start: 0x40

  - name: entry
    type: code
    start: 0x1000
    vram: 0x8003AD80
    subsegments:
      - [0x1000, hasm, entrypoint]

  - name: main
    type: code
    start: 0x1050
    vram: 0x8003ADD0
    follows_vram: entry
    bss_size: 0x4D8C0
    subsegments:
      - [0x1050, c, 1050]
      - [0x3E40, c]
      - [0x4460, c, 4460]
      - [0x5580, c, 5580]
      - [0x6780, c]
      - [0x6930, c]
      - [0x6B30, c]
      - [0x6BB0, c]
      - [0x73F0, c]
      - [0x74E0, c]
      - [0x8050, c, 8050]
      - [0x9A90, c, 9A90]
      - [0xC0D0, c]
      - [0xC680, c, C680]
      - [0xE2A0, c, E2A0]
      - [0x10870, c, 10870]
      - [0x167A0, c]
      - [0x168D0, c, 168D0]
      - [0x16C40, c, 16C40]
      - [0x18D20, c]
      - [0x19780, asm]
      - [0x1B150, c]
      - [0x1B280, asm, 1B280]
      - [0x1D300, c]
      - [0x1D6E0, c]
      - [0x24E90, c, 24E90]
      - [0x25D00, c, 25D00]
      - [0x26900, c, 26900]
      - [0x279C0, c, 279C0]
      - [0x27BF0, c, 27BF0]
      - [0x2AF60, c, 2AF60]
      - [0x2B990, c, 2B990]
      - [0x2CBA0, c]
      - [0x2E320, c, 2E320]
      - [0x2F270, c, 2F270]
      - [0x2FAB0, c, 2FAB0]
      - [0x31630, c, 31630]
      - [0x32F00, c, 32F00]
      - [0x33310, c]
      - [0x33430, c]
      - [0x33540, c]
      - [0x33640, c, 33640]
      - [0x354E0, c]
      - [0x37460, c]
      - [0x37700, c, 37700]
      - [0x379B0, c, 379B0]
      - [0x38560, c]
      - [0x38580, asm]
      - [0x38DB0, c, 38DB0]
      - [0x393B0, c, 393B0]
      - [0x39E50, c, 39E50]
      - [0x3A750, asm]
      - [0x3AC20, asm]
      - [0x3B700, asm]
      - [0x3BB30, asm]
      - [0x3C130, asm]
      - [0x3C220, asm]
      - [0x3D120, asm]
      - [0x3D140, asm]
      - [0x3D650, asm, 3D650]
      - [0x428D0, c, 428D0]
      - [0x44240, c, 44240]
      - [0x46030, c, 46030]
      - [0x46770, c]
      - [0x46CF0, c]
      - [0x46DD0, c, 46DD0]
      - [0x470D0, c]
      - [0x471E0, c, 471E0]
      - [0x49380, c]
      - [0x495A0, c]
      - [0x497E0, c, 497E0]
      - [0x4A980, c, 4A980]
      - [0x4BFD0, c, 4BFD0]
      - [0x539F0, c]
      - [0x54910, c, 54910]
      - [0x55220, c]
      - [0x55500, c, 55500]
      - [0x63BC0, c, 63BC0]
      - [0x66700, c]
      - [0x691B0, c]
      - [0x69530, c]
      - [0x69580, asm, 69580]
      - [0x697D0, c]
      - [0x69C30, c]
      - [0x69D80, c, 69D80]
      - [0x6AE00, c, 6AE00]
      - [0x6F290, c]
      - [0x6FFD0, asm]
      - [0x73120, c, 73120]
      - [0x73D50, c]
      - [0x74B00, c, 74B00]
      - [0x77340, asm, 77340]
      - [0x779F0, c]
      - [0x78FE0, asm, 78FE0]

      # LIBULTRA CODE
      - [0x79300, c, libultra/os/createmesgqueue]
      - [0x79330, c, libultra/os/seteventmesg]
      - [0x793A0, c, libultra/io/controller]
      - [0x796E0, c]
      - [0x79750, c, libultra/os/sendmesg]
      - [0x798A0, c]
      - [0x79E60, c, syncprintf]
      - [0x79EA0, c, libultra/os/recvmesg]
      - [0x79FE0, c]
      - [0x7A1C0, c, libultra/io/contquery]
      - [0x7A270, c]
      - [0x7A640, c]
      - [0x7ACE0, c]
      - [0x7B160, c]
      - [0x7B310, c]
      - [0x7B580, c]
      - [0x7B880, c]
      - [0x7B8E0, c]
      - [0x7BA80, c]
      - [0x7BCA0, c]
      - [0x7BF70, c]
      - [0x7C290, c, libultra/os/createthread]
      - [0x7C3E0, c, libultra/os/startthread]
      - [0x7C530, c, sprintf]
      - [0x7C5B0, c, libultra/io/visetspecial]
      - [0x7C770, c, libultra/io/viswapbuf]
      - [0x7C7D0, c, libultra/os/gettime]
      - [0x7C860, c, libultra/io/visetevent]
      - [0x7C8D0, c, libultra/os/writebackdcacheall]
      - [0x7C900, c, libultra/io/sptask]
      - [0x7CBF0, c, dpsetnextbuf]
      - [0x7CCA0, c, libultra/io/visetmode]
      - [0x7CD10, c, libultra/os/setintmask]
      - [0x7D110, c]
      - [0x7D2E0, c]
      - [0x7D5F0, c, libultra/os/setthreadpri]
      - [0x7D770, c, libultra/libc/ll]
      - [0x7DDC0, asm, libultra/gu/sinf]
      - [0x7E290, asm, libultra/gu/sins]
      - [0x7E450, asm, libultra/gu/cosf]
      - [0x7E5C0, asm, libultra/gu/sqrtf]
      - [0x7E5D0, c, libultra/libc/string]
      - [0x7E670, c, libultra/os/stopthread]
      - [0x7E760, c]
      - [0x7E770, c, heapinit]
      - [0x7E7B0, c, heapalloc]
      - [0x7E810, c]
      - [0x7E960, c, sl]
      - [0x7EAA0, c, libultra/io/aisetnextbuf]
      - [0x7EB50, c, libultra/io/aigetlen]
      - [0x7EB60, c, synaddplayer]
      - [0x7EDE0, c, synstopvoice]
      - [0x7EE60, asm, libultra/os/jammesg]
      - [0x7F040, asm, synstartvoiceparam]
      - [0x7F130, asm, synsetpitch]
      - [0x7F1C0, asm, drvrNew]
      - [0x7F960, asm, synallocfx]
      - [0x7FA00, asm, mainbus]
      - [0x7FE50, asm, auxbus]
      - [0x7FF60, asm, save]
      - [0x800C0, asm, rotateRPY]
      - [0x80260, asm, libultra/gu/lookat]
      - [0x80820, asm, mtxcatl]
      - [0x808E0, asm, normalize]
      - [0x80970, asm, align]
      - [0x81010, asm, llcvt]
      - [0x81220, c, libultra/os/invaldcache]
      - [0x812D0, c, libultra/io/pidma]
      - [0x813E0, c, libultra/os/writebackdcache]
      - [0x81460, c, libultra/io/epidma]
      - [0x81540, asm, epilinkhandle]
      - [0x81590, asm, libultra/gu/ortho]
      - [0x81750, asm, random]
      - [0x81780, asm, libultra/os/thread]
      - [0x81800, asm, libultra/os/settimer]
      - [0x818E0, asm]
      - [0x81990, asm, libultra/81990]
      - [0x82350, asm]
      - [0x82580, asm]
      - [0x82600, asm]
      - [0x82830, asm]
      - [0x833B0, asm]
      - [0x83EC0, asm]
      - [0x84110, asm, libultra/84110]
      - [0x841E0, asm, libultra/xprintf]
      - [0x84EA0, asm, libultra/io/vi]
      - [0x84FE0, asm, libultra/os/timerintr]
      - [0x853F0, asm, libultra/io/spsetpc]
      - [0x85430, asm, libultra/io/sprawdma]
      - [0x854C0, asm, libultra/io/sp]
      - [0x854F0, asm, dp]
      - [0x85520, hasm, libultra/os/setsr]
      - [0x85530, hasm, libultra/os/getsr]
      - [0x85540, hasm, libultra/setfpccsr]
      - [0x855F0, hasm, libultra/invalicache]
      - [0x85670, hasm, libultra/unmaptlball]
      - [0x856C0, asm, libultra/os/maptlbrdb]
      - [0x85720, asm, libultra/io/pirawread]
      - [0x85780, asm]
      - [0x85860, asm, libultra/io/pirawdma]
      - [0x85FC0, asm]
      - [0x862C0, asm, libultra/io/spgetstat]
      - [0x862D0, asm]
      - [0x862E0, hasm, libultra/os/probetlb]
      - [0x863A0, asm, libultra/io/ai]
      - [0x863F0, asm, reverb]
      - [0x87040, asm, load]
      - [0x87B90, asm, mtxcatf]
      - [0x87DA0, asm, libultra/io/pigetcmdq]
      - [0x87DD0, asm, libultra/os/destroythread]
      - [0x87EE0, asm, libultra/io/pfsisplug]
      - [0x884C0, asm, libultra/libc/xldtob]
      - [0x88F80, hasm, libultra/os/setcompare]
      - [0x88F90, asm, libultra/io/si]
      - [0x88FC0, asm, libultra/os/resetglobalintmask]
      - [0x89020, asm]
      - [0x89180, asm]
      - [0x892E0, asm, libultra/os/setglobalintmask]
      - [0x89330, asm, libultra/os/yieldthread]
      - [0x89380, asm, copy]
      - [0x89400, asm, libultra/libc/ldiv]
      - [0x89590, asm]
      - [0x895E0, data]

      # LIBULTRA RODATA
      - [0xA15F0, rodata, libultra/io/pfsisplug]
      - [0xA1620, .rodata, 1050]
      - [0xA1690, .rodata, 4460]
      - [0xA16C0, .rodata, 5580]
      - [0xA16E0, .rodata, 8050]
      - [0xA1720, .rodata, 9A90]
      - [0xA1850, rodata]
      - [0xA18A0, .rodata, C680]
      - [0xA1910, rodata]
      - [0xA22A0, .rodata, E2A0]
      - [0xA2320, .rodata, 10870]
      - [0xA2CE0, .rodata, 168D0]
      - [0xA2D00, .rodata, 16C40]
      - [0xA3020, rodata]
      - [0xA30A0, rodata]
      - [0xA3120, rodata, 1B280]
      - [0xA34F0, .rodata, 24E90]
      - [0xA3510, .rodata, 25D00]
      - [0xA3540, .rodata, 26900]
      - [0xA3550, .rodata, 279C0]
      - [0xA3580, .rodata, 27BF0]
      - [0xA36A0, .rodata, 2AF60]
      - [0xA3740, .rodata, 2B990]
      - [0xA3770, .rodata, 2E320]
      - [0xA3820, .rodata, 2F270]
      - [0xA38C0, .rodata, 2FAB0]
      - [0xA38F0, rodata]
      - [0xA3A00, .rodata, 31630]
      - [0xA3A40, .rodata, 32F00]
      - [0xA3A90, .rodata, 33640]
      - [0xA3B80, rodata]
      - [0xA3BC0, .rodata, 37700]
      - [0xA3C10, .rodata, 379B0]
      - [0xA3C40, rodata]
      - [0xA3C70, rodata, 38580]
      - [0xA3D00, .rodata, 38DB0]
      - [0xA3D20, .rodata, 393B0]
      - [0xA3D70, .rodata, 39E50]
      - [0xA3DC0, rodata, 3D650]
      - [0xA4170, rodata]
      - [0xA41C0, rodata]
      - [0xA4250, .rodata, 428D0]
      - [0xA42C0, rodata]
      - [0xA43D0, .rodata, 44240]
      - [0xA4420, rodata]
      - [0xA4B90, .rodata, 46030]
      - [0xA4C90, .rodata, 46DD0]
      - [0xA4CB0, .rodata, 471E0]
      - [0xA4CF0, .rodata, 497E0]
      - [0xA53B0, .rodata, 4A980]
      - [0xA58C0, rodata]
      - [0xA5DB0, .rodata, 4BFD0]
      - [0xA5E10, .rodata, 54910]
      - [0xA5E20, .rodata, 55500]
      - [0xA6690, .rodata, 63BC0]
      - [0xA66A0, rodata, 69580]
      - [0xA6BA0, .rodata, 69D80]
      - [0xA6BB0, .rodata, 6AE00]
      - [0xA6CE0, rodata]
      - [0xA73D0, rodata]
      - [0xA73F0, rodata]
      - [0xA7400, .rodata, 73120]
      - [0xA7410, .rodata, 74B00]
      - [0xA7560, rodata, 77340]
      - [0xA75C0, rodata, 78FE0]
      - [0xA76E0, rodata, libultra/gu/sinf]
      - [0xA77B0, rodata, libultra/gu/cosf]
      - [0xA7800, rodata, mainbus]
      - [0xA7860, rodata, rotateRPY]
      - [0xA7870, rodata, libultra/gu/lookat]
      - [0xA7880, rodata, align]
      - [0xA7890, rodata]
      - [0xA78A0, rodata, libultra/81990]
      - [0xA78F0, rodata, libultra/84110]
      - [0xA79F0, rodata, libultra/io/pirawdma]
      - [0xA7A10, rodata]
      - [0xA7A20, rodata, reverb]
      - [0xA7A50, rodata, libultra/libc/xldtob]
      - [0xA7AB0, rodata]
      - { start: 0xA8190, type: bss, vram: 0x800E1F10 }

  - type: bin
    start: 0xA8190
    follows_vram: main
  - [0xC00000]